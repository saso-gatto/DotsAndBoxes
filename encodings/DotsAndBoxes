val(0..1).

pos(K):-size(K).
pos(X):-pos(Y), X=Y-1, X>=0.

edge(X,Y,H)| noedge(X,Y,H):- pos(X), pos(Y), val(H).
:- edge(K,_,0),size(K), pos(K).
:- edge(_,K,1),size(K),pos(K).

:- edge(X,Y,H), size(K), X=K,Y=K.